<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Angular Forecast</title>
	<link href="api.css" rel="stylesheet" type="text/css">
	<link href="css/weather-icons.css" rel="stylesheet" type="text/css">
</head>
<body ng-app="ngAPI">
<div id="ngForecast" class="wi" ng-controller="APIController" ng-cloak>
	<form ng-submit="getForecast(city)">
		<input ng-model="city" type="text">
		<input type="submit"> Get forecast!</input>
	</form>
		<!-- CITY NAME -->
	<span class="city"><i class="wi wi-cloudy"></i> {{api.request[0].query}}</span><br>
		<!-- MAIN ICON -->
	<div class="today">
		<i ng-repeat="code in codes.condition | filter: {code:api.weather[0].weatherCode}" 
	   	   class="wi wi-today {{code.day_icon}}"></i>
		<b>Today,</b> {{DayString(date.getDay())}}
		{{MonthString(date.getMonth())}} {{date.getDate()}}, {{date.getFullYear()}} 
		<br>
		<div class="temperature">
			<span class="temp-today">{{api.current_condition[0].temp_C}}</span>
			<span class="degree">&#176;</span>
			<span class="letter">C</span>
			<span class="slash">/</span>
		    <span class="temp-today">{{api.current_condition[0].temp_F}}</span>
		    <span class="degree">&#176;</span>
		    <span class="letter">F</span>
		</div>
	</div>

	<div class="tomorrow">
		<i ng-repeat="code in codes.condition | filter: {code:api.weather[1].weatherCode}" 
		   class="wi wi-tomorrow {{code.day_icon}}"></i>
		Tomorrow, {{days[1].name}}
		<div class="temperature">
			{{days[1].c}}&#176;C / 
			{{days[1].f}}&#176;F<br><br> 
		</div>
	</div>
	
	<div class="longterm" ng-repeat="i in Range(number) track by $index">
		{{days[$index+2].c}}&#176;C
		<i ng-repeat="code in codes.condition | filter: {code:api.weather[$index].weatherCode}" 
		   class="wi wi-longterm {{code.day_icon}}"></i><br>
		{{days[$index+2].name}}<br>
		<span ng-hide="true">{{$index+1}}</span>
	</div>

</div>
<script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.19/angular.min.js"></script>
<script src="api.js"></script>
<script>
$(document).ready(function() {
	$("#ngForecast").delay(500).animate({"opacity": "1"}, 630);
});
</script>
</body>
</html>